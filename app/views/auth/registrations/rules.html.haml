- content_for :page_title do
  = t('auth.register')

- content_for :header_tags do
  = render partial: 'shared/og', locals: { description: description_for_sign_up(@invite) }

.simple_form
  = render 'auth/shared/progress', stage: 'rules'

  - if @invite.present? && @invite.autofollow?
    %h1.title= t('auth.rules.title_invited')
    %p.lead.invited-by= t('auth.rules.invited_by', domain: site_hostname)
    = render 'application/card', account: @invite.user.account, compact: true
    %p.lead= t('auth.rules.preamble_invited', domain: site_hostname)
  - else
    %h1.title= t('auth.rules.title')
    %p.lead= t('auth.rules.preamble', domain: site_hostname)

  %ol.rules-list
    %li
      .rules-list__text 🇺🇸🍑 Users from the Metro Atlanta region and other regions of Georgia are welcome to join and will instantly receive a login. New accounts from outside the United States are subject to review.
    %li
      .rules-list__text 📜 After you're all set up, take a look at our server rules to review our guidelines for posting and content.
    %li
      .rules-list__text 🆓 There is no cost to join or use the service! If you enjoy using the service, consider a financial contribution to support operations.
    %li
      .rules-list__text 🔞 The use of theATL.social's Mastodon service is strictly limited to persons ages 18 and up. Persons under the age of 18 are strictly prohibited from creating an account.

  .stacked-actions
    - accept_path = @invite_code.present? ? public_invite_url(invite_code: @invite_code, accept: @accept_token) : new_user_registration_path(accept: @accept_token)
    = link_to t('auth.rules.accept'), accept_path, class: 'button', style: 'color: #000;'
    = link_to t('auth.rules.back'), root_path, class: 'button button-tertiary'

.form-footer
  = render 'auth/shared/links'